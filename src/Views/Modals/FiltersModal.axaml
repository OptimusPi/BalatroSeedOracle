<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:avalonedit="https://github.com/avaloniaui/avaloniaedit"
             xmlns:controls="using:BalatroSeedOracle.Controls"
             xmlns:components="using:BalatroSeedOracle.Components"
             xmlns:vm="using:BalatroSeedOracle.ViewModels"
             x:Class="BalatroSeedOracle.Views.Modals.FiltersModalContent">
             
    <UserControl.Styles>
        <!-- Modal-specific styles ONLY. Global button/input/tab/nav styles removed to prevent drift. -->
        <!-- Override Fluent's button template completely for tab buttons -->
        <Style Selector="Button.tab-button">
            <Setter Property="Background" Value="{StaticResource Red}"/>
            <Setter Property="Foreground" Value="{StaticResource White}"/>
            <Setter Property="FontFamily" Value="{StaticResource BalatroFont}"/>
            <Setter Property="FontSize" Value="{StaticResource TabButtonFontSize}"/>
            <!-- Allow height to expand with font; keep min for layout -->
            <Setter Property="MinHeight" Value="50"/>
            <Setter Property="MinWidth" Value="144"/>
            <Setter Property="Margin" Value="4,0,4,4"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <ControlTemplate>
                    <Grid>
                        <Border Name="DropShadow"
                                Background="{StaticResource DropShadow}"
                                CornerRadius="8"
                                Margin="0,4,0,0"/>
                        <Border Name="PART_Border"
                                Background="{StaticResource Red}"
                                CornerRadius="8"
                                Margin="0,0,0,4">
                            <ContentPresenter Content="{TemplateBinding Content}"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              TextBlock.FontFamily="{TemplateBinding FontFamily}"
                                              TextBlock.FontSize="{TemplateBinding FontSize}"
                                              TextBlock.FontWeight="{TemplateBinding FontWeight}"
                                              TextBlock.Foreground="{TemplateBinding Foreground}"/>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter>
        </Style>
        
        <!-- Hover state -->
        <Style Selector="Button.tab-button:pointerover /template/ Border#PART_Border">
            <Setter Property="Background" Value="{StaticResource RedHover}"/>
        </Style>
        
        <!-- Tab button inherits pressed behavior from global styles -->
        
        <!-- Active state - same as regular, no blue! -->
        <Style Selector="Button.tab-button.active /template/ Border#PART_Border">
            <Setter Property="Background" Value="{StaticResource Red}"/>
        </Style>
        
        <!-- Active hover -->
        <Style Selector="Button.tab-button.active:pointerover /template/ Border#PART_Border">
            <Setter Property="Background" Value="{StaticResource RedHover}"/>
        </Style>
        
        <!-- Disabled state -->
        <Style Selector="Button.tab-button:disabled /template/ Border#PART_Border">
            <Setter Property="Background" Value="{StaticResource RedDisabled}"/>
        </Style>
        <Style Selector="Button.tab-button:disabled">
            <Setter Property="Cursor" Value="Arrow"/>
        </Style>
        
        <Style Selector="Border.drop-zone">
            <Setter Property="Background" Value="{StaticResource ContainerDarkPrecise}" />
            <Setter Property="BorderBrush" Value="{StaticResource ModalBorder}" />
            <Setter Property="BorderThickness" Value="2" />
            <Setter Property="CornerRadius" Value="8" />
            <Setter Property="MinHeight" Value="150" />
            <Setter Property="Transitions">
                <Transitions>
                    <DoubleTransition Property="Opacity" Duration="0:0:0.2" />
                    <TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.2" />
                    <BrushTransition Property="BorderBrush" Duration="0:0:0.2" />
                </Transitions>
            </Setter>
        </Style>
        <Style Selector="Border.drop-zone.drag-over">
            <Setter Property="BoxShadow" Value="0 0 10 #ffffff20" />
        </Style>
        <Style Selector="Border.needs-zone.drag-over">
            <Setter Property="BorderBrush" Value="{StaticResource Red}" />
            <Setter Property="BoxShadow" Value="0 0 15 #ff4c4080" />
        </Style>
        <Style Selector="Border.wants-zone.drag-over">
            <Setter Property="BorderBrush" Value="{StaticResource Blue}" />
            <Setter Property="BoxShadow" Value="0 0 15 #0093ff80" />
        </Style>
        <Style Selector="Border.mustnot-zone.drag-over">
            <Setter Property="BorderBrush" Value="{StaticResource Orange}" />
            <Setter Property="BoxShadow" Value="0 0 15 #ff980080" />
        </Style>
        <Style Selector="Border.draggable-item">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="CornerRadius" Value="8" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="Margin" Value="4" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Transitions">
                <Transitions>
                    <TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.15" />
                    <DoubleTransition Property="Opacity" Duration="0:0:0.15" />
                </Transitions>
            </Setter>
        </Style>
        <Style Selector="Border.draggable-item:is-dragging">
            <Setter Property="Opacity" Value="0.6" />
        </Style>
        <Style Selector="Border.dropped-item">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="CornerRadius" Value="4" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="Margin" Value="0" />
            <Setter Property="Width" Value="53" />
            <Setter Property="Height" Value="71" />
            <Setter Property="MaxWidth" Value="53" />
            <Setter Property="MaxHeight" Value="71" />
        </Style>
        <Style Selector="Border.dropped-item:pointerover">
            <Setter Property="Cursor" Value="Hand" />
        </Style>
        <Style Selector="WrapPanel.drop-zone-panel">
            <Setter Property="HorizontalAlignment" Value="Left" />
            <Setter Property="VerticalAlignment" Value="Top" />
        </Style>
        <Style Selector="TextBlock.drop-placeholder">
            <Setter Property="Foreground" Value="{StaticResource Border}" />
            <Setter Property="FontStyle" Value="Normal" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Opacity" Value="0.7" />
        </Style>
        <Style Selector="Button.clear-zone-button">
            <Setter Property="Opacity" Value="0.5" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="Transitions">
                <Transitions>
                    <DoubleTransition Property="Opacity" Duration="0:0:0.2" />
                </Transitions>
            </Setter>
            <Setter Property="Template">
                <ControlTemplate>
                    <ContentPresenter />
                </ControlTemplate>
            </Setter>
        </Style>
        <Style Selector="Button.clear-zone-button:pointerover">
            <Setter Property="Opacity" Value="1" />
        </Style>
        <Style Selector="Button.clear-zone-button:pointerover Path">
            <Setter Property="Fill" Value="{StaticResource Red}" />
        </Style>
        <!-- Local TextBox override (do not duplicate global balatro-input) -->
        <Style Selector="TextBox">
            <Setter Property="Background" Value="{StaticResource PureBlack}" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderBrush" Value="{StaticResource PureBlack}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="CaretBrush" Value="White" />
            <Setter Property="SelectionBrush" Value="{StaticResource Blue}" />
            <Setter Property="SelectionForegroundBrush" Value="White" />
            <Setter Property="IsHitTestVisible" Value="True" />
            <Setter Property="Focusable" Value="True" />
            <Setter Property="MinHeight" Value="32" />
        </Style>
        <Style Selector="TextBox:focus">
            <Setter Property="Background" Value="{StaticResource DarkBackground}" />
            <Setter Property="BorderBrush" Value="{StaticResource Blue}" />
        </Style>
        <Style Selector="TextBox:pointerover">
            <Setter Property="Background" Value="{StaticResource DarkBackground}" />
            <Setter Property="BorderBrush" Value="{StaticResource Border}" />
        </Style>
        <Style Selector="TextBox /template/ TextBlock#PART_Watermark">
            <Setter Property="Foreground" Value="{StaticResource MediumLightGrey}" />
            <Setter Property="IsVisible" Value="True" />
            <Setter Property="Opacity" Value="1" />
        </Style>
        <Style Selector="TextBox:watermark">
            <Setter Property="Foreground" Value="{StaticResource TextInactive}" />
        </Style>
        <Style Selector="TextBox /template/ TextPresenter#PART_TextPresenter">
            <Setter Property="CaretBrush" Value="White" />
            <Setter Property="SelectionBrush" Value="{StaticResource Blue}" />
            <Setter Property="SelectionForegroundBrush" Value="White" />
        </Style>
        <Style Selector="TextBox /template/ ScrollViewer#PART_ContentHost">
            <Setter Property="Background" Value="Transparent" />
        </Style>
        <!-- Mode toggles -->
        <Style Selector="Button.active">
            <Setter Property="Background" Value="{StaticResource Blue}" />
        </Style>
        <Style Selector="Button.active:pointerover">
            <Setter Property="Background" Value="{StaticResource BlueHover}" />
        </Style>
        <Style Selector="Border.mode-inactive">
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Opacity" Value="0.6" />
        </Style>
        <Style Selector="Border.mode-inactive:pointerover">
            <Setter Property="Opacity" Value="0.8" />
        </Style>
        <Style Selector="Border#DragDropModeButton.mode-active">
            <Setter Property="Background" Value="{StaticResource Gold}" />
            <Setter Property="BorderBrush" Value="{StaticResource Gold}" />
        </Style>
        <Style Selector="Border#DragDropModeButton.mode-inactive">
            <Setter Property="Background" Value="{StaticResource PureBlack}" />
            <Setter Property="BorderBrush" Value="{StaticResource Border}" />
        </Style>
        <Style Selector="Border#JsonEditorModeButton.mode-active">
            <Setter Property="Background" Value="{StaticResource Gold}" />
            <Setter Property="BorderBrush" Value="{StaticResource Gold}" />
        </Style>
        <Style Selector="Border#JsonEditorModeButton.mode-inactive">
            <Setter Property="Background" Value="{StaticResource PureBlack}" />
            <Setter Property="BorderBrush" Value="{StaticResource Border}" />
        </Style>
        <!-- Scroll / editor -->
        <Style Selector="ScrollBar">
            <Setter Property="Background" Value="{StaticResource DarkBackground}" />
            <Setter Property="Opacity" Value="1" />
        </Style>
        <Style Selector="ScrollBar /template/ Thumb">
            <Setter Property="Background" Value="{StaticResource Border}" />
            <Setter Property="MinHeight" Value="20" />
            <Setter Property="MinWidth" Value="10" />
            <Setter Property="Opacity" Value="1" />
        </Style>
        <Style Selector="ScrollBar:vertical">
            <Setter Property="Width" Value="8" />
            <Setter Property="Margin" Value="0,0,2,0" />
        </Style>
        <Style Selector="ScrollBar /template/ Thumb:pointerover">
            <Setter Property="Background" Value="{StaticResource TextInactive}" />
        </Style>
        <Style Selector="ScrollViewer">
            <Setter Property="Background" Value="Transparent" />
        </Style>
        <Style Selector="avalonedit|TextEditor">
            <Setter Property="Background" Value="#FFF5F5DC" />
            <Setter Property="Foreground" Value="{StaticResource PureBlack}" />
            <Setter Property="FontFamily" Value="Cascadia Code,Consolas,Menlo,Monaco,monospace" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="LineNumbersForeground" Value="{StaticResource DockGrey}" />
        </Style>
        <Style Selector="avalonedit|TextEditor /template/ avalonedit|TextArea">
            <Setter Property="SelectionBrush" Value="{StaticResource Blue}" />
            <Setter Property="SelectionForeground" Value="{StaticResource White}" />
        </Style>
    </UserControl.Styles>
    
    <!-- Main Layout with top nav -->
    <Grid DragDrop.AllowDrop="True" Margin="0,0,0,10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/> <!-- Triangle pointer -->
            <RowDefinition Height="Auto"/> <!-- Tabs -->
            <RowDefinition Height="*"/>    <!-- Content -->
        </Grid.RowDefinitions>
        
        <!-- Triangle pointer above tabs -->
        <Grid Grid.Row="0" HorizontalAlignment="Center" Height="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="130"/> <!-- Select Filter -->
                <ColumnDefinition Width="130"/> <!-- Visual -->
                <ColumnDefinition Width="130"/> <!-- JSON -->
                <ColumnDefinition Width="130"/> <!-- TEST -->
                <ColumnDefinition Width="130"/> <!-- Save Filter -->
            </Grid.ColumnDefinitions>

            <!-- Triangle container -->
            <Grid Grid.Column="0"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Bottom">

                <!-- Drop shadow triangle -->
                <Polygon Points="10,20 20,5 0,5"
                         Fill="{StaticResource SemiTransparentShadow}"
                         Margin="2,2,0,0"/>

                <!-- Main triangle that bounces -->
                <Polygon Name="TabTriangle"
                         Points="10,20 20,5 0,5"
                         Fill="{StaticResource Red}">
                    <Polygon.Styles>
                        <Style Selector="Polygon">
                            <Style.Animations>
                                <Animation Duration="0:0:1.2"
                                           IterationCount="Infinite"
                                           PlaybackDirection="Alternate"
                                           Easing="SineEaseInOut">
                                    <KeyFrame Cue="0%">
                                        <Setter Property="Margin" Value="0,0,0,0"/>
                                    </KeyFrame>
                                    <KeyFrame Cue="100%">
                                        <Setter Property="Margin" Value="0,-8,0,8"/>
                                    </KeyFrame>
                                </Animation>
                            </Style.Animations>
                        </Style>
                    </Polygon.Styles>
                </Polygon>
            </Grid>
        </Grid>

        <!-- Tab buttons -->
        <StackPanel Grid.Row="1"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Margin="0,0,0,2">
            <Button Name="LoadSaveTab"
                    Content="Select"
                    Classes="tab-button active"
                    Click="OnTabClick"/>
            <Button Name="VisualTab"
                    Content="Visual"
                    Classes="tab-button"
                    IsEnabled="False"
                    Click="OnTabClick"/>
            <Button Name="JsonTab"
                    Content="JSON"
                    Classes="tab-button"
                    IsEnabled="False"
                    Click="OnTabClick"/>
            <Button Name="TestTab"
                    Content="ðŸ”¥ TEST"
                    Classes="tab-button"
                    IsEnabled="False"
                    Click="OnTabClick"/>
            <Button Name="SaveFilterTab"
                    Content="Finish"
                    Classes="tab-button"
                    IsEnabled="False"
                    Click="OnTabClick"/>
        </StackPanel>
        
        <!-- Content area -->
        <Grid Grid.Row="2" Margin="12,6,12,12" DragDrop.AllowDrop="True">
            
            <!-- Visual Panel -->
            <Grid Name="VisualPanel" IsVisible="False" DragDrop.AllowDrop="True">
                    <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="124" />
                    <ColumnDefinition Width="6" />
                    <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                        
                        <!-- Left Sidebar - Dark panel with NO border -->
                        <Border Grid.Column="0" Name="LeftSidebar" Background="{StaticResource ContainerDarkPrecise}" BorderThickness="0" CornerRadius="8" Padding="6">
                            <ScrollViewer VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Disabled">
                                <StackPanel>
                                    <!-- Category Tabs - GRADIENT BUTTONS like Balatro -->
                                    <Button Name="FavoritesTab" Content="â­Faves" Classes="nav-button" />
                                    <Button Name="SoulJokersTab" Content="Legendary" Classes="nav-button" />
                                    <Button Name="RareJokersTab" Content="Rare" Classes="nav-button" />
                                    <Button Name="UncommonJokersTab" Content="Uncommon" Classes="nav-button" />
                                    <Button Name="CommonJokersTab" Content="Common" Classes="nav-button" />
                                    <Button Name="VouchersTab" Content="Voucher" Classes="nav-button" />
                                    <Button Name="TarotsTab" Content="Tarot" Classes="nav-button" />
                                    <Button Name="PlanetsTab" Content="Planet" Classes="nav-button" />
                                    <Button Name="SpectralsTab" Content="Spectral" Classes="nav-button" />
                                    <Button Name="PlayingCardsTab" Content="Playing Cards" Classes="nav-button" />
                                    <Button Name="TagsTab" Content="Tag" Classes="nav-button" />
                                    <Button Name="BossesTab" Content="Boss" Classes="nav-button" />
                                    <Button Name="ClearTab" Content="Clear ALL" Classes="nav-button" />
                                </StackPanel>
                            </ScrollViewer>
                        </Border>
                        
                        <!-- Visual Mode Content Area -->
                        <Grid Grid.Column="2" Name="VisualModeContainer" DragDrop.AllowDrop="True">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" MinWidth="400" />
                                <ColumnDefinition Width="15" />
                                <ColumnDefinition Width="*" MinWidth="400" />
                            </Grid.ColumnDefinitions>
                            
                            <!-- LEFT: Item Palette -->
                            <Border Grid.Column="0" Name="ItemPaletteBorder" Background="{StaticResource ContainerDarkPrecise}" BorderThickness="0" CornerRadius="8" Padding="8" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" ClipToBounds="True">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="8" />
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>
                                    
                                    <!-- Search Bar -->
                                    <Grid Grid.Row="0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="4" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        
                                        <!-- Search Bar -->
                                        <TextBox Grid.Column="0" Name="SearchBox" Watermark="Search items..." Height="28" VerticalContentAlignment="Center" 
                                                 Background="{StaticResource DockGrey}"
                                                 BorderThickness="0"
                                                 Foreground="{StaticResource TextLight}"
                                                 CaretBrush="{StaticResource TextLight}"
                                                 SelectionBrush="{StaticResource Blue}"
                                                 CornerRadius="6"
                                                 Padding="8,4"
                                                 Classes="search-box" IsHitTestVisible="True" Focusable="True" ZIndex="10" FontSize="12" />
                                        <Button Grid.Column="2" Name="ClearSearchButton" Content="X" ToolTip.Tip="Clear Search" Width="24" Height="24" FontSize="10" Padding="0" Classes="small-button" />
                                    </Grid>
                                    
                                    <!-- Item Palette Content -->
                                    <ContentControl Grid.Row="2" Name="ItemPaletteContent" Background="Transparent" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" ClipToBounds="True" />
                                </Grid>
                            </Border>
                            
                            <!-- RIGHT: Drag & Drop Areas -->
                            <Grid Grid.Column="2">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="20" />
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="20" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                
                                <!-- MUST (NEEDS) Panel -->
                                <Border Grid.Row="0" Name="NeedsBorder" Classes="drop-zone needs-zone" Background="{StaticResource ContainerDarkPrecise}" BorderThickness="0" CornerRadius="8" Padding="12" MinHeight="150" ClipToBounds="False">
                                    <Grid ClipToBounds="False">
                                        <!-- Sideways Label -->
                                        <TextBlock Text="MUST have..."
                                                   FontFamily="{StaticResource BalatroFont}"
                                                   FontSize="14"
                                                   
                                                   Foreground="{StaticResource Border}"
                                                   Opacity="0.5"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Left"
                                                   Margin="5,0,0,0"
                                                   RenderTransformOrigin="0.5,0.5">
                                            <TextBlock.RenderTransform>
                                                <TransformGroup>
                                                    <RotateTransform Angle="-90"/>
                                                    <TranslateTransform Y="45"/> <!-- Adjust Y to move label down -->
                                                </TransformGroup>
                                            </TextBlock.RenderTransform>
                                        </TextBlock>
                                        
                                        <!-- Drop Area -->
                                        <Grid Margin="30,0,0,0" ClipToBounds="False">
                                            <TextBlock Name="NeedsPlaceholder" Classes="drop-placeholder" Text="Drop items that MUST appear" TextAlignment="Center" IsVisible="True" FontSize="14" />
                                            <ScrollViewer Name="NeedsScrollViewer" VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Auto" IsVisible="False" Height="120" ClipToBounds="False">
                                                <WrapPanel Name="NeedsPanel" Orientation="Horizontal" Classes="drop-zone-panel" ClipToBounds="False" />
                                            </ScrollViewer>
                                            <Button Name="ClearNeedsButton" Classes="clear-zone-button" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="4" Width="16" Height="16" Padding="0" Background="Transparent" BorderThickness="0" IsVisible="False">
                                                <Path Data="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" Fill="{StaticResource Border}" Width="16" Height="16" Stretch="Uniform" Opacity="0.7" />
                                            </Button>
                                        </Grid>
                                    </Grid>
                                </Border>
                                
                                <!-- SHOULD (WANTS) Panel -->
                                <Border Grid.Row="2" Name="WantsBorder" Classes="drop-zone wants-zone" Background="{StaticResource ContainerDarkPrecise}" BorderThickness="0" CornerRadius="8" Padding="8" MinHeight="150" ClipToBounds="False">
                                    <Grid ClipToBounds="False">
                                        <!-- Sideways Label -->
                                        <TextBlock Text="Should have..."
                                                   FontFamily="{StaticResource BalatroFont}"
                                                   FontSize="14"
                                                   
                                                   Foreground="{StaticResource Border}"
                                                   Opacity="0.5"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Left"
                                                   Margin="5,0,0,0"
                                                   RenderTransformOrigin="0.5,0.5">
                                            <TextBlock.RenderTransform>
                                                <TransformGroup>
                                                    <RotateTransform Angle="-90"/>
                                                    <TranslateTransform Y="45"/> <!-- Adjust Y to move label down -->
                                                </TransformGroup>
                                            </TextBlock.RenderTransform>
                                        </TextBlock>
                                        
                                        <!-- Drop Area -->
                                        <Grid Margin="30,0,0,0" ClipToBounds="False">
                                            <TextBlock Name="WantsPlaceholder" Classes="drop-placeholder" Text="Drop items you'd LIKE to see" TextAlignment="Center" IsVisible="True" FontSize="14" />
                                            <ScrollViewer Name="WantsScrollViewer" VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Auto" IsVisible="False" Height="120" ClipToBounds="False">
                                                <WrapPanel Name="WantsPanel" Orientation="Horizontal" Classes="drop-zone-panel" ClipToBounds="False" />
                                            </ScrollViewer>
                                            <Button Name="ClearWantsButton" Classes="clear-zone-button" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="4" Width="16" Height="16" Padding="0" Background="Transparent" BorderThickness="0" IsVisible="False">
                                                <Path Data="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" Fill="{StaticResource Border}" Width="16" Height="16" Stretch="Uniform" Opacity="0.7" />
                                            </Button>
                                        </Grid>
                                    </Grid>
                                </Border>
                                
                                <!-- MUST NOT Panel -->
                                <Border Grid.Row="4" Name="MustNotBorder" Classes="drop-zone mustnot-zone" Background="{StaticResource ContainerDarkPrecise}" BorderThickness="0" CornerRadius="8" Padding="8" MinHeight="150" ClipToBounds="False">
                                    <Grid ClipToBounds="False">
                                        <!-- Sideways Label -->
                                        <TextBlock Text="Must NOT Have..."
                                                   FontFamily="{StaticResource BalatroFont}"
                                                   FontSize="12"
                                                   
                                                   Foreground="{StaticResource Border}"
                                                   Opacity="0.5"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Left"
                                                   Margin="2,0,0,0"
                                                   RenderTransformOrigin="0.5,0.5">
                                            <TextBlock.RenderTransform>
                                                <TransformGroup>
                                                    <RotateTransform Angle="-90"/>
                                                    <TranslateTransform Y="45"/> <!-- Adjust Y to move label down -->
                                                </TransformGroup>
                                            </TextBlock.RenderTransform>
                                        </TextBlock>
                                        
                                        <!-- Drop Area -->
                                        <Grid Margin="40,0,0,0">
                                            <TextBlock Name="MustNotPlaceholder" Classes="drop-placeholder" Text="Drop forbidden items here" TextAlignment="Center" IsVisible="True" FontSize="14" />
                                            <ScrollViewer Name="MustNotScrollViewer" VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Auto" IsVisible="False" Height="120" ClipToBounds="False">
                                                <WrapPanel Name="MustNotPanel" Orientation="Horizontal" Classes="drop-zone-panel" ClipToBounds="False" />
                                            </ScrollViewer>
                                            <Button Name="ClearMustNotButton" Classes="clear-zone-button" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="4" Width="16" Height="16" Padding="0" Background="Transparent" BorderThickness="0" IsVisible="False">
                                                <Path Data="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" Fill="{StaticResource Border}" Width="16" Height="16" Stretch="Uniform" Opacity="0.7" />
                                            </Button>
                                        </Grid>
                                    </Grid>
                                </Border>
                                
                                
                            </Grid>
                        </Grid>
            </Grid>
            
            <!-- Load/Save Panel - Balatro Challenges Style -->
            <Grid Name="LoadSavePanel" IsVisible="True">
                <!-- Use the new reusable FilterSelectorControl -->
                <components:FilterSelectorControl Name="FilterSelector"
                                                  FilterSelected="OnFilterSelected"
                                                  FilterCopyRequested="OnFilterCopyRequested"
                                                  NewFilterRequested="OnNewFilterRequested"/>
            </Grid>

            <!-- JSON Panel - ENHANCED -->
            <Grid Name="JsonPanel" IsVisible="False">
                <Border Background="{StaticResource ContainerDarkPrecise}"
                        BorderThickness="0"
                        CornerRadius="8"
                        Padding="16"
                        ClipToBounds="True">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="8"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="12"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Enhanced Header with Icons -->
                        <Grid Grid.Row="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="1"
                                       Text="âš¡ JSON EDITOR âš¡"
                                       FontSize="22"
                                       FontFamily="{StaticResource BalatroFont}"
                                       Foreground="{StaticResource Gold}"
                                       HorizontalAlignment="Center"/>

                            <!-- Quick Format Button -->
                            <Button Grid.Column="2"
                                    Name="FormatJsonButton"
                                    Content="âœ¨ FORMAT"
                                    Classes="btn-blue"
                                    Height="26"
                                    FontSize="11"
                                    Padding="8,2"
                                    HorizontalAlignment="Right"
                                    Click="OnFormatJsonClick"
                                    ToolTip.Tip="Auto-format JSON (Ctrl+Shift+F)"/>
                        </Grid>

                        <!-- Editor with enhanced border -->
                        <Border Grid.Row="2"
                                Background="#FFF5F5DC"
                                BorderBrush="{StaticResource Gold}"
                                BorderThickness="3"
                                CornerRadius="6"
                                BoxShadow="0 3 0 #b8a363">
                            <avalonedit:TextEditor Name="JsonEditor"
                                                   SyntaxHighlighting="Json"
                                                   ShowLineNumbers="True"
                                                   FontFamily="Cascadia Code, Consolas, monospace"
                                                   FontSize="14"
                                                   Padding="8"/>
                        </Border>

                        <!-- JSON Validation Status Bar with Enhanced Styling -->
                        <Border Grid.Row="4"
                                Background="{StaticResource DockGrey}"
                                BorderBrush="{StaticResource ModalBorder}"
                                BorderThickness="2"
                                CornerRadius="6"
                                Padding="10,6"
                                BoxShadow="0 2 0 #2a3538">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <!-- Validation Status -->
                                <TextBlock Grid.Column="0"
                                           Name="JsonValidationStatus"
                                           Text="âœ“ Valid JSON"
                                           FontFamily="{StaticResource BalatroFont}"
                                           FontSize="13"
                                           Foreground="{StaticResource Green}"
                                           VerticalAlignment="Center"/>

                                <!-- Character/Line Count -->
                                <TextBlock Grid.Column="1"
                                           Name="JsonStatsDisplay"
                                           Text="Lines: 0 | Chars: 0"
                                           FontFamily="{StaticResource BalatroFont}"
                                           FontSize="11"
                                           Foreground="{StaticResource MediumGrey}"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"
                                           Opacity="0.7"/>

                                <!-- Action Buttons -->
                                <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="6">
                                    <Button Name="ValidateJsonButton"
                                            Content="ðŸ” VALIDATE"
                                            Classes="btn-blue"
                                            Height="28"
                                            FontSize="11"
                                            Padding="10,4"
                                            Click="OnValidateJsonClick"
                                            ToolTip.Tip="Validate JSON syntax"/>

                                    <Button Name="SaveJsonButton"
                                            Content="ðŸ’¾ SAVE"
                                            Classes="btn-green"
                                            Height="28"
                                            FontSize="12"
                                            Padding="12,4"
                                            Click="OnSaveJsonClick"
                                            ToolTip.Tip="Save changes to filter"/>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </Grid>
                </Border>
            </Grid>

            <!-- TEST Panel - INSTANT FILTER TESTING! -->
            <Grid Name="TestPanel" IsVisible="False">
                <Border Background="{StaticResource ContainerDarkPrecise}"
                        BorderThickness="0"
                        CornerRadius="8"
                        Padding="20"
                        ClipToBounds="True">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="16"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="12"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- Header -->
                        <TextBlock Grid.Row="0"
                                   Text="ðŸ”¥ INSTANT FILTER TEST ðŸ”¥"
                                   FontSize="24"
                                   FontFamily="{StaticResource BalatroFont}"
                                   Foreground="{StaticResource Orange}"
                                   HorizontalAlignment="Center"/>

                        <!-- Test Controls -->
                        <Border Grid.Row="2"
                                Background="{StaticResource DockGrey}"
                                BorderBrush="{StaticResource ModalBorder}"
                                BorderThickness="2"
                                CornerRadius="8"
                                Padding="16"
                                BoxShadow="0 3 0 #2a3538">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="12"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- Quick Test Settings -->
                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="12"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="12"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Seeds to Test -->
                                    <StackPanel Grid.Column="0" Spacing="6">
                                        <TextBlock Text="Seeds to Test"
                                                   FontFamily="{StaticResource BalatroFont}"
                                                   FontSize="12"
                                                   Foreground="{StaticResource Gold}"/>
                                        <TextBox Name="TestSeedsInput"
                                                 Watermark="e.g., 100, 500, 1000"
                                                 Height="32"
                                                 VerticalContentAlignment="Center"
                                                 Text="100"/>
                                    </StackPanel>

                                    <!-- Deck Selection -->
                                    <StackPanel Grid.Column="2" Spacing="6">
                                        <TextBlock Text="Deck"
                                                   FontFamily="{StaticResource BalatroFont}"
                                                   FontSize="12"
                                                   Foreground="{StaticResource Blue}"/>
                                        <ComboBox Name="TestDeckCombo"
                                                  SelectedIndex="0"
                                                  Height="32">
                                            <ComboBoxItem Content="Red Deck"/>
                                            <ComboBoxItem Content="Blue Deck"/>
                                            <ComboBoxItem Content="Yellow Deck"/>
                                            <ComboBoxItem Content="Green Deck"/>
                                        </ComboBox>
                                    </StackPanel>

                                    <!-- Stake Selection -->
                                    <StackPanel Grid.Column="4" Spacing="6">
                                        <TextBlock Text="Stake"
                                                   FontFamily="{StaticResource BalatroFont}"
                                                   FontSize="12"
                                                   Foreground="{StaticResource Purple}"/>
                                        <ComboBox Name="TestStakeCombo"
                                                  SelectedIndex="0"
                                                  Height="32">
                                            <ComboBoxItem Content="White Stake"/>
                                            <ComboBoxItem Content="Red Stake"/>
                                            <ComboBoxItem Content="Green Stake"/>
                                            <ComboBoxItem Content="Gold Stake"/>
                                        </ComboBox>
                                    </StackPanel>
                                </Grid>

                                <!-- Test Action Buttons -->
                                <Grid Grid.Row="2">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="8"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <Button Grid.Column="0"
                                            Name="QuickTestButton"
                                            Content="âš¡ QUICK TEST (100 seeds)"
                                            Classes="btn-green"
                                            Height="44"
                                            FontSize="14"
                                            Click="OnQuickTestClick"/>

                                    <Button Grid.Column="2"
                                            Name="FullSearchButton"
                                            Content="ðŸš€ OPEN FULL SEARCH"
                                            Classes="btn-blue"
                                            Height="44"
                                            FontSize="14"
                                            Click="OnOpenFullSearchClick"/>
                                </Grid>
                            </Grid>
                        </Border>

                        <!-- Test Results Preview -->
                        <Border Grid.Row="4"
                                Background="{StaticResource PureBlack}"
                                BorderBrush="{StaticResource ModalBorder}"
                                BorderThickness="2"
                                CornerRadius="8"
                                Padding="12">
                            <ScrollViewer VerticalScrollBarVisibility="Auto">
                                <StackPanel Spacing="8">
                                    <!-- Results Header -->
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Grid.Column="0"
                                                   Text="âš¡ TEST RESULTS"
                                                   FontFamily="{StaticResource BalatroFont}"
                                                   FontSize="16"
                                                   Foreground="{StaticResource Green}"/>

                                        <TextBlock Grid.Column="1"
                                                   Name="TestResultCount"
                                                   Text="0 matches found"
                                                   FontFamily="{StaticResource BalatroFont}"
                                                   FontSize="14"
                                                   Foreground="{StaticResource Gold}"/>
                                    </Grid>

                                    <!-- Results List -->
                                    <ItemsControl Name="TestResultsList">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Border Background="{StaticResource DarkModalGrey}"
                                                        BorderBrush="{StaticResource Blue}"
                                                        BorderThickness="1"
                                                        CornerRadius="4"
                                                        Padding="10,6"
                                                        Margin="0,2">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>

                                                        <TextBlock Grid.Column="0"
                                                                   Text="{Binding Seed}"
                                                                   FontFamily="{StaticResource BalatroFont}"
                                                                   FontSize="14"
                                                                   Foreground="{StaticResource Gold}"
                                                                   Width="100"/>

                                                        <TextBlock Grid.Column="1"
                                                                   Text="{Binding Details}"
                                                                   FontFamily="{StaticResource BalatroFont}"
                                                                   FontSize="12"
                                                                   Foreground="{StaticResource White}"
                                                                   Margin="12,0,0,0"/>

                                                        <TextBlock Grid.Column="2"
                                                                   Text="{Binding Score}"
                                                                   FontFamily="{StaticResource BalatroFont}"
                                                                   FontSize="14"
                                                                   Foreground="{StaticResource Green}"/>
                                                    </Grid>
                                                </Border>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>

                                    <!-- Empty State -->
                                    <TextBlock Name="TestEmptyState"
                                               Text="Run a quick test to preview filter results! ðŸŽ¯"
                                               FontFamily="{StaticResource BalatroFont}"
                                               FontSize="14"
                                               Foreground="{StaticResource MediumGrey}"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Margin="0,40,0,0"
                                               Opacity="0.6"
                                               IsVisible="True"/>
                                </StackPanel>
                            </ScrollViewer>
                        </Border>
                    </Grid>
                </Border>
            </Grid>

            <!-- Filter Info/Metadata Panel -->
            <Grid Name="SaveFilterPanel" IsVisible="False">
                <Border Background="{StaticResource ContainerDarkPrecise}" 
                        BorderThickness="0" 
                        CornerRadius="8" 
                        Padding="16"
                        ClipToBounds="True">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/> <!-- Title -->
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="Auto"/> <!-- Metadata Info Grid -->
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="Auto"/> <!-- Filter Name -->
                                <RowDefinition Height="16"/>
                                <RowDefinition Height="Auto"/> <!-- Description Label -->
                                <RowDefinition Height="8"/>
                                <RowDefinition Height="150"/> <!-- Description TextBox -->
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="Auto"/> <!-- Preferred Deck/Stake -->
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="Auto"/> <!-- Action Buttons -->
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0"
                                       Text="FILTER INFORMATION" 
                                       FontSize="20" 
                                       FontFamily="{StaticResource BalatroFont}"
                                       Foreground="{StaticResource Gold}"
                                       HorizontalAlignment="Center"/>
                        
                            <!-- Metadata Info Grid -->
                            <Grid Grid.Row="2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="20"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                
                                <!-- Left Column - Author and Created Date -->
                                <StackPanel Grid.Column="0" Spacing="12">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="Author:" 
                                                   FontFamily="{StaticResource BalatroFont}"
                                                   FontSize="14"
                                                   Foreground="{StaticResource MediumGrey}"/>
                                        <TextBlock Grid.Column="1" Name="AuthorDisplay"
                                                   Text="Unknown"
                                                   FontFamily="{StaticResource BalatroFont}"
                                                   FontSize="14"
                                                   Foreground="{StaticResource White}"/>
                                    </Grid>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="Created:" 
                                                   FontFamily="{StaticResource BalatroFont}"
                                                   FontSize="14"
                                                   Foreground="{StaticResource MediumGrey}"/>
                                        <TextBlock Grid.Column="1" Name="CreatedDateDisplay"
                                                   Text="Unknown"
                                                   FontFamily="{StaticResource BalatroFont}"
                                                   FontSize="14"
                                                   Foreground="{StaticResource White}"/>
                                    </Grid>
                                </StackPanel>
                                
                                <!-- Right Column - File Info -->
                                <StackPanel Grid.Column="2" Spacing="12">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="File:" 
                                                   FontFamily="{StaticResource BalatroFont}"
                                                   FontSize="14"
                                                   Foreground="{StaticResource MediumGrey}"/>
                                        <TextBlock Grid.Column="1" Name="FileNameDisplay"
                                                   Text="Not saved"
                                                   FontFamily="{StaticResource BalatroFont}"
                                                   FontSize="14"
                                                   Foreground="{StaticResource White}"/>
                                    </Grid>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="Modified:" 
                                                   FontFamily="{StaticResource BalatroFont}"
                                                   FontSize="14"
                                                   Foreground="{StaticResource MediumGrey}"/>
                                        <TextBlock Grid.Column="1" Name="ModifiedDateDisplay"
                                                   Text="Never"
                                                   FontFamily="{StaticResource BalatroFont}"
                                                   FontSize="14"
                                                   Foreground="{StaticResource White}"/>
                                    </Grid>
                                </StackPanel>
                            </Grid>
                        
                        <!-- Filter Name Row -->
                        <Grid Grid.Row="4">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="16"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Border Grid.Column="0"
                                    Background="{StaticResource LightGrey}"
                                    CornerRadius="4"
                                    Padding="12,6"
                                    Height="32">
                                <TextBlock Text="Filter Name"
                                           FontFamily="{StaticResource BalatroFont}"
                                           FontSize="14"
                                           Foreground="{StaticResource Black}"/>
                            </Border>

                            <TextBox Grid.Column="2"
                                     Name="SaveFilterNameInput"
                                     Watermark="Enter filter name..."
                                     FontSize="14"
                                     Height="32"
                                     VerticalContentAlignment="Center"/>
                        </Grid>
                        
                        <!-- Description Label -->
                        <TextBlock Grid.Row="6"
                                   Text="Filter Description"
                                   FontFamily="{StaticResource BalatroFont}"
                                   FontSize="14"
                                   Foreground="{StaticResource White}"/>
                        
                        <!-- Description TextBox -->
                        <TextBox Grid.Row="8"
                                 Name="FilterDescriptionInput"
                                 AcceptsReturn="True"
                                 TextWrapping="Wrap"
                                 Watermark="Enter filter description..."
                                 FontSize="14"
                                 VerticalContentAlignment="Top"
                                 Padding="8"/>

                        <!-- Preferred Deck/Stake Selector -->
                        <Border Grid.Row="10"
                                Background="{StaticResource ContainerDarkPrecise}"
                                BorderThickness="2"
                                BorderBrush="{StaticResource ModalBorder}"
                                CornerRadius="8"
                                Padding="16">
                            <StackPanel Spacing="12">
                                <TextBlock Text="PREFERRED DECK &amp; STAKE"
                                           FontFamily="{StaticResource BalatroFont}"
                                           FontSize="16"
                                           Foreground="{StaticResource Gold}"
                                           HorizontalAlignment="Center"/>

                                <TextBlock Text="(Optional - sets default for search)"
                                           FontFamily="{StaticResource BalatroFont}"
                                           FontSize="12"
                                           Foreground="{StaticResource MediumGrey}"
                                           HorizontalAlignment="Center"
                                           Opacity="0.8"/>

                                <components:DeckAndStakeSelector Name="PreferredDeckStakeSelector"
                                                                  HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>

                            <!-- Action Buttons -->
                            <Grid Grid.Row="12">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="8"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="8"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                
                                <Button Grid.Column="0"
                                        Name="SaveChangesButton"
                                        Content="Save Changes"
                                        Classes="btn-green"
                                        Height="40"
                                        FontSize="16"
                                        Click="OnSaveChangesClick"/>
                                        
                                <Button Grid.Column="2"
                                        Name="SearchButton"
                                        Content="SEARCH"
                                        Classes="btn-blue"
                                        Height="40"
                                        FontSize="16"
                                        Click="OnSearchClick"/>
                                        
                                <Button Grid.Column="4"
                                        Name="ExportButton"
                                        Content="Export"
                                        Classes="btn-blue"
                                        Height="40"
                                        FontSize="16"
                                        Click="OnExportClick"/>
                            </Grid>
                        </Grid>
                    </ScrollViewer>
                </Border>
            </Grid>
        </Grid>
    </Grid>
</UserControl>