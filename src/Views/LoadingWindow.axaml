<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:BalatroSeedOracle.ViewModels"
        x:Class="BalatroSeedOracle.Views.LoadingWindow"
        x:DataType="vm:LoadingWindowViewModel"
        Width="600"
        Height="400"
        WindowStartupLocation="CenterScreen"
        CanResize="False"
        SystemDecorations="None"
        TransparencyLevelHint="Transparent"
        Background="Transparent"
        ExtendClientAreaToDecorationsHint="True">

    <Window.Styles>
        <Style Selector="Window">
            <Setter Property="Background" Value="Transparent" />
        </Style>
    </Window.Styles>

    <Design.DataContext>
        <vm:LoadingWindowViewModel/>
    </Design.DataContext>

    <Border CornerRadius="12"
            Background="#1A1A2E"
            BorderBrush="#FF6B35"
            BorderThickness="3">

        <Grid RowDefinitions="Auto,*,Auto,Auto">

            <!-- Balatro Logo Area -->
            <Border Grid.Row="0"
                    Padding="20"
                    Background="#0F0F1E">
                <TextBlock Text="BALATRO SEED ORACLE"
                           FontSize="36"
                           Foreground="#FFD700"
                           HorizontalAlignment="Center"
                           FontFamily="{StaticResource BalatroFont}"/>
            </Border>

            <!-- Animated Card Visual -->
            <Viewbox Grid.Row="1"
                     Margin="40"
                     MaxWidth="200"
                     MaxHeight="200">
                <Canvas Width="100" Height="100">
                    <!-- Simple animated card placeholder -->
                    <Border Canvas.Left="25"
                            Canvas.Top="25"
                            Width="50"
                            Height="70"
                            CornerRadius="4"
                            Background="#2E2E3E"
                            BorderBrush="#FFD700"
                            BorderThickness="2">
                        <TextBlock Text="?"
                                   FontSize="32"
                                   Foreground="#FFD700"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/>
                    </Border>
                </Canvas>
            </Viewbox>

            <!-- Progress Text -->
            <StackPanel Grid.Row="2"
                        Margin="40,0,40,20"
                        Spacing="10">

                <TextBlock Text="{Binding LoadingText}"
                           FontSize="18"
                           Foreground="#FFFFFF"
                           HorizontalAlignment="Center"
                           FontFamily="{StaticResource BalatroFont}"/>

                <!-- Progress Bar -->
                <ProgressBar Value="{Binding Progress}"
                             Maximum="100"
                             Height="20"
                             Background="#2E2E3E"
                             Foreground="#FF6B35"
                             BorderBrush="#FFD700"
                             BorderThickness="1"/>

                <!-- Details -->
                <TextBlock FontSize="14"
                           Foreground="#AAAAAA"
                           HorizontalAlignment="Center"
                           FontFamily="{StaticResource BalatroFont}">
                    <Run Text="{Binding CurrentCategory}"/>
                    <Run Text=" - "/>
                    <Run Text="{Binding CurrentCount}"/>
                    <Run Text="/"/>
                    <Run Text="{Binding TotalCount}"/>
                </TextBlock>
            </StackPanel>

            <!-- Footer -->
            <Border Grid.Row="3"
                    Padding="20,10"
                    Background="#0F0F1E">
                <TextBlock Text="Pre-loading sprites for optimal performance..."
                           FontSize="12"
                           Foreground="#888888"
                           HorizontalAlignment="Center"
                           FontFamily="{StaticResource BalatroFont}"/>
            </Border>
        </Grid>
    </Border>
</Window>
