<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="BalatroSeedOracle.Controls.PanelSpinner">
    
    <UserControl.Styles>
        <!-- Inner panel style -->
        <Style Selector="Border.panel-content">
            <Setter Property="Background" Value="{StaticResource GreyDarker}"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Width" Value="480"/>
            <Setter Property="MinHeight" Value="120"/>
            <Setter Property="MaxHeight" Value="140"/>
        </Style>
        
        <!-- Title text style -->
        <Style Selector="TextBlock.panel-title">
            <Setter Property="FontFamily" Value="{StaticResource BalatroFont}"/>
            <Setter Property="FontSize" Value="18"/>
            
            <Setter Property="Foreground" Value="{StaticResource White}"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,4,0,2"/>
        </Style>
        
        <!-- Description text style -->
        <Style Selector="TextBlock.panel-description">
            <Setter Property="FontFamily" Value="{StaticResource BalatroFont}"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="{StaticResource Silver}"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="TextAlignment" Value="Center"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="Margin" Value="12,0"/>
        </Style>
        
        <!-- Position dots container -->
        <Style Selector="StackPanel.dots-panel">
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="Orientation" Value="Horizontal"/>
            <Setter Property="Spacing" Value="4"/>
            <Setter Property="Margin" Value="0,4,0,0"/>
        </Style>
        
        <!-- Position dots style -->
        <Style Selector="TextBlock.position-dot">
            <Setter Property="FontFamily" Value="{StaticResource BalatroFont}"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Text" Value="â€¢"/>
        </Style>
        
        <!-- Active dot -->
        <Style Selector="TextBlock.position-dot.active">
            <Setter Property="Foreground" Value="{StaticResource White}"/>
        </Style>
        
        <!-- Inactive dot -->
        <Style Selector="TextBlock.position-dot:not(.active)">
            <Setter Property="Foreground" Value="{StaticResource GreyDarker}"/>
        </Style>
    </UserControl.Styles>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Main panel content -->
        <Border Grid.Row="0" Classes="panel-content" Margin="0,0,0,4">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>     <!-- Title -->
                    <RowDefinition Height="*"/>        <!-- Content -->
                    <RowDefinition Height="Auto"/>     <!-- Dots -->
                </Grid.RowDefinitions>
                
                <!-- Title -->
                <TextBlock Grid.Row="0"
                           Name="TitleText"
                           Classes="panel-title"/>
                
                <!-- Horizontal content layout like Balatro -->
                <Grid Grid.Row="1" Margin="8,4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>   <!-- Image -->
                        <ColumnDefinition Width="*"/>      <!-- Description -->
                    </Grid.ColumnDefinitions>
                    
                    <!-- Sprite Image Container -->
                    <Border Grid.Column="0"
                            Background="{StaticResource GreyDarker}"
                            CornerRadius="8"
                            Padding="4"
                            Margin="0,0,12,0"
                            VerticalAlignment="Center">
                        <Viewbox Stretch="Uniform"
                                 Width="80"
                                 Height="80">
                            <Image Name="SpriteImage"
                                   Width="71"
                                   Height="95"/>
                        </Viewbox>
                    </Border>
                    
                    <!-- Description -->
                    <Border Grid.Column="1" 
                            Background="{StaticResource White}"
                            CornerRadius="8"
                            Padding="12,8"
                            VerticalAlignment="Center">
                        <TextBlock Name="DescriptionText"
                                   FontFamily="{StaticResource BalatroFont}"
                                   FontSize="12"
                                   Foreground="{StaticResource Black}"
                                   TextAlignment="Left"
                                   TextWrapping="Wrap"
                                   VerticalAlignment="Center"/>
                    </Border>
                </Grid>
                
                <!-- Position dots -->
                <StackPanel Grid.Row="2"
                            Name="DotsPanel"
                            Classes="dots-panel"/>
            </Grid>
        </Border>
        
        <!-- Navigation controls like Balatro challenges screen -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <!-- Left arrow -->
            <Button Grid.Column="0"
                    Name="PrevButton"
                    Width="40"
                    Height="36"
                    Background="{StaticResource Red}"
                    Content="&lt;"
                    FontFamily="{StaticResource BalatroFont}"
                    FontSize="20"
                    Foreground="{StaticResource White}"
                    CornerRadius="8,0,0,8"
                    BorderThickness="0"
                    Cursor="Hand"
                    Click="OnPrevClick">
                <Button.Template>
                    <ControlTemplate>
                        <Grid>
                            <Border Background="{StaticResource DropShadow}"
                                    CornerRadius="8,0,0,8"
                                    Margin="0,3,0,0"/>
                            <Border Background="{TemplateBinding Background}"
                                    CornerRadius="8,0,0,8"
                                    Margin="0,0,0,3">
                                <ContentPresenter Content="{TemplateBinding Content}"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"/>
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Button.Template>
            </Button>
            
            <!-- Page indicator panel -->
            <Border Grid.Column="1"
                    Background="{StaticResource GreyLighter}"
                    Height="36">
                <Grid>
                    <!-- Drop shadow -->
                    <Border Background="{StaticResource GreyDarker}"
                            Margin="0,3,0,0"/>
                    <!-- Main panel -->
                    <Border Background="{StaticResource Grey}"
                            Margin="0,0,0,3">
                        <TextBlock Name="PageIndicator"
                                   Text="Page 1/1"
                                   FontFamily="{StaticResource BalatroFont}"
                                   FontSize="16"
                                   Foreground="{StaticResource White}"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/>
                    </Border>
                </Grid>
            </Border>
            
            <!-- Right arrow -->
            <Button Grid.Column="2"
                    Name="NextButton"
                    Width="40"
                    Height="36"
                    Background="{StaticResource Red}"
                    Content="&gt;"
                    FontFamily="{StaticResource BalatroFont}"
                    FontSize="20"
                    Foreground="{StaticResource White}"
                    CornerRadius="0,8,8,0"
                    BorderThickness="0"
                    Cursor="Hand"
                    Click="OnNextClick">
                <Button.Template>
                    <ControlTemplate>
                        <Grid>
                            <Border Background="{StaticResource DropShadow}"
                                    CornerRadius="0,8,8,0"
                                    Margin="0,3,0,0"/>
                            <Border Background="{TemplateBinding Background}"
                                    CornerRadius="0,8,8,0"
                                    Margin="0,0,0,3">
                                <ContentPresenter Content="{TemplateBinding Content}"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"/>
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Button.Template>
            </Button>
        </Grid>
    </Grid>
</UserControl>