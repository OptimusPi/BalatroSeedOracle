<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:controls="using:Oracle.Controls"
             x:Class="Oracle.Components.DeckStakeSelector">
    
    <UserControl.Styles>
        <Style Selector="TextBlock.deck-name">
            <Setter Property="FontFamily" Value="{StaticResource BalatroFont}" />
            <Setter Property="FontSize" Value="16" />
            
            <Setter Property="Foreground" Value="{StaticResource Gold}" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="Margin" Value="0,0,0,4" />
        </Style>
        <Style Selector="TextBlock.deck-desc">
            <Setter Property="FontSize" Value="11" />
            <Setter Property="Foreground" Value="{StaticResource TextLight}" />
            <Setter Property="TextAlignment" Value="Center" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="LineHeight" Value="14" />
            <Setter Property="Margin" Value="0,0,0,8" />
        </Style>
        <Style Selector="TextBlock.stake-name">
            <Setter Property="FontFamily" Value="{StaticResource BalatroFont}" />
            <Setter Property="FontSize" Value="14" />
            
            <Setter Property="Foreground" Value="{StaticResource Gold}" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="Margin" Value="0,0,0,4" />
        </Style>
        <Style Selector="TextBlock.stake-desc">
            <Setter Property="FontSize" Value="10" />
            <Setter Property="Foreground" Value="{StaticResource TextLight}" />
            <Setter Property="TextAlignment" Value="Center" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="LineHeight" Value="12" />
        </Style>
    </UserControl.Styles>
    
    <StackPanel Spacing="20">
        
        <!-- Deck Selection -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="300" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            
            <!-- Left Arrow -->
            <Button Grid.Column="0" 
                    Name="DeckLeftArrow" 
                    Classes="nav-arrow" 
                    Content="◀" 
                    Width="40" 
                    Height="140" />
            
            <!-- Deck Panel with fixed width -->
            <Border Grid.Column="1" 
                    Background="{StaticResource DarkModalGrey}" 
                    CornerRadius="8"
                    Padding="20,16"
                    Margin="8,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    
                    <!-- Deck Name -->
                    <TextBlock Grid.Row="0" 
                               Name="DeckNameText" 
                               Classes="deck-name"
                               Text="Red Deck" />
                    
                    <!-- Deck Description -->
                    <TextBlock Grid.Row="1" 
                               Name="DeckDescText" 
                               Classes="deck-desc"
                               Text="+1 Discard every round" />
                    
                    <!-- Deck Preview with stake overlay -->
                    <Grid Grid.Row="2" 
                          HorizontalAlignment="Center" 
                          VerticalAlignment="Center"
                          Width="71" 
                          Height="95"
                          Margin="0,8,0,0">
                        <Image Name="DeckPreviewImage" 
                               Width="71"
                               Height="95"
                               Stretch="UniformToFill"
                               ZIndex="0" />
                        <!-- Stake overlay on top -->
                        <Image Name="StakeChipOverlay" 
                               Width="71" 
                               Height="95" 
                               Stretch="UniformToFill"
                               IsVisible="False"
                               ZIndex="1" />
                    </Grid>
                </Grid>
            </Border>
            
            <!-- Right Arrow -->
            <Button Grid.Column="2" 
                    Name="DeckRightArrow" 
                    Classes="nav-arrow" 
                    Content="▶" 
                    Width="40" 
                    Height="140" />
        </Grid>
        
        <!-- Stake Selection - Using normal spinner -->
        <controls:SpinnerControl Name="StakeSpinner" 
                                Label="Stake"
                                SpinnerType="stake"
                                Minimum="0"
                                Maximum="7"
                                Value="0"
                                MinWidth="170"
                                HorizontalAlignment="Center" />
    </StackPanel>
</UserControl>