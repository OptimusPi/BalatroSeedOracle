<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:BalatroSeedOracle.ViewModels.FilterTabs"
             x:Class="BalatroSeedOracle.Components.FilterTabs.ValidateFilterTab"
             x:DataType="vm:ValidateFilterTabViewModel">

    <!-- Clean flat modal styling -->
    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12,4">
        <StackPanel Spacing="10" MaxWidth="500" HorizontalAlignment="Center">
            
            <!-- Header -->
            <TextBlock Text="FINISH"
                       FontSize="24"
                       FontFamily="{StaticResource BalatroFont}"
                       Foreground="{StaticResource Gold}"
                       HorizontalAlignment="Center"
                       Margin="0,5,0,0"/>

            <!-- Main Content Panel - Flat ModalGrey style -->
            <Border Background="{StaticResource ModalGrey}"
                    BorderThickness="0"
                    CornerRadius="8"
                    Padding="15,12">
            <StackPanel Spacing="10">
                <!-- Filter Name -->
                <StackPanel>
                    <TextBlock Text="Filter Name"
                               FontSize="13"
                               Foreground="{StaticResource White}"
                               FontFamily="{StaticResource BalatroFont}"
                               Margin="0,0,0,4"/>
                    <TextBox Text="{Binding FilterName}"
                             Watermark="Enter filter name..."
                             FontSize="13"
                             Height="32"/>
                </StackPanel>

                <!-- Description -->
                <StackPanel>
                    <TextBlock Text="Description"
                               FontSize="13"
                               Foreground="{StaticResource White}"
                               FontFamily="{StaticResource BalatroFont}"
                               Margin="0,0,0,4"/>
                    <TextBox Text="{Binding FilterDescription}"
                             Watermark="Enter description..."
                             AcceptsReturn="True"
                             TextWrapping="Wrap"
                             FontSize="13"
                             Height="60"/>
                </StackPanel>

                <!-- Action Buttons -->
                <StackPanel Spacing="10" Margin="0,5,0,0">
                    <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto" Margin="0">
                        <!-- Row 0: Copy and Save side-by-side -->
                        <Button Grid.Row="0" Grid.Column="0"
                                Content="COPY JSON"
                                Command="{Binding CopyJsonCommand}"
                                Classes="btn-blue"
                                Foreground="{StaticResource White}"
                                Height="36"
                                FontSize="13"
                                Margin="0,0,4,8"/>

                        <Button Grid.Row="0" Grid.Column="1"
                                Content="SAVE FILTER"
                                Command="{Binding SaveCurrentFilterCommand}"
                                Classes="btn-green"
                                Foreground="{StaticResource White}"
                                Height="36"
                                FontSize="13"
                                Margin="4,0,0,8"
                                IsEnabled="{Binding FilterName, Converter={x:Static StringConverters.IsNotNullOrEmpty}}"/>

                        <!-- Row 1: Go to Search (Full Width) -->
                        <Button Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2"
                                Content="GO TO SEARCH"
                                Command="{Binding GoToSearchCommand}"
                                Classes="btn-orange"
                                Foreground="{StaticResource White}"
                                Height="40"
                                FontSize="14"
                                FontWeight="Bold"
                                Margin="0,0,0,8"
                                IsEnabled="{Binding FilterName, Converter={x:Static StringConverters.IsNotNullOrEmpty}}"/>

                        <!-- Row 2: Finish & Close (Full Width) -->
                        <Button Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                                Content="FINISH &amp; CLOSE"
                                Command="{Binding FinishAndCloseCommand}"
                                Classes="btn-red"
                                Foreground="{StaticResource White}"
                                Height="36"
                                FontSize="13"/>
                    </Grid>
                </StackPanel>

                </StackPanel>
            </Border>

            <!-- Status Message - Flat panel in DarkGrey -->
            <Border Background="{StaticResource DarkGrey}"
                    BorderThickness="0"
                    CornerRadius="8"
                    Padding="12,8"
                    IsVisible="{Binding StatusMessage, Converter={x:Static StringConverters.IsNotNullOrEmpty}}">
                <TextBlock Text="{Binding StatusMessage}"
                           FontSize="12"
                           Foreground="{Binding StatusColor}"
                           FontFamily="{StaticResource BalatroFont}"
                           TextWrapping="Wrap"
                           HorizontalAlignment="Center"/>
            </Border>

        </StackPanel>
    </ScrollViewer>
</UserControl>
